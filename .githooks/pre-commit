#!/usr/bin/env sh
# Wrapper to run the PowerShell script even when Git is invoked by Visual Studio.
# This file must be named exactly "pre-commit" (no extension).

# Resolve repo root from this script location (.githooks)
SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
PS1="$SCRIPT_DIR/pre-commit.ps1"

# Prefer pwsh if available, fall back to Windows PowerShell
if command -v pwsh >/dev/null 2>&1; then
  pwsh -NoProfile -ExecutionPolicy Bypass -File "$PS1"
else
  powershell -NoProfile -ExecutionPolicy Bypass -File "$PS1"
fi
